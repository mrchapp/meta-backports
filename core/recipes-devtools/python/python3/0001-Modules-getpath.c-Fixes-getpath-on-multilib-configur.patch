From fbe5784aad4d9de142fffd6295e99a7648c128b0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?An=C3=ADbal=20Lim=C3=B3n?= <anibal.limon@linaro.org>
Date: Thu, 16 Nov 2017 02:38:24 +0100
Subject: [PATCH] Modules/getpath.c: Fixes getpath on multilib configurations
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Backported from master, already send to oe-core ML [1].

[1]
http://lists.openembedded.org/pipermail/openembedded-core/2017-November/144503.html

Signed-off-by: Aníbal Limón <anibal.limon@linaro.org>
---
 Modules/getpath.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Modules/getpath.c b/Modules/getpath.c
index 9e933e3..a01c3f8 100644
--- a/Modules/getpath.c
+++ b/Modules/getpath.c
@@ -502,7 +502,7 @@ calculate_path(void)
     _pythonpath = Py_DecodeLocale(PYTHONPATH, NULL);
     _prefix = Py_DecodeLocale(PREFIX, NULL);
     _exec_prefix = Py_DecodeLocale(EXEC_PREFIX, NULL);
-    lib_python = Py_DecodeLocale("lib/python" VERSION, NULL);
+    lib_python = Py_DecodeLocale(LIB_PYTHON, NULL);
 
     if (!_pythonpath || !_prefix || !_exec_prefix || !lib_python) {
         Py_FatalError(
-- 
2.11.0

